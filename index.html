<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>Diagn√≥stico do Dispositivo</title>
  <script src="https://openfpcdn.io/fingerprintjs/v3"></script>
  <style>
    body {
      font-family: sans-serif;
      background-color: #f5f5fa;
      color: #333;
    }
    h1 {
      text-align: center;
      color: #2563eb;
    }
    .card {
      background: white;
      padding: 16px;
      margin: 20px auto;
      border-radius: 12px;
      width: 90%;
      max-width: 800px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }
    .card h2 {
      font-size: 1.1rem;
      margin-bottom: 10px;
      border-bottom: 2px solid #2563eb;
      padding-bottom: 5px;
    }
    .card span.label {
      font-weight: bold;
    }
    .card p {
      margin: 6px 0;
    }
  </style>
</head>
<body>
  <h1>Diagn√≥stico do Dispositivo</h1>

  <div class="card">
    <h2>üßê FingerprintJS</h2>
    <p><span class="label">ID √önico do Dispositivo:</span> <span id="fingerprint">Carregando...</span></p>
  </div>

  <div class="card">
    <h2>üåê Rede</h2>
    <p><span class="label">Endere√ßo IPv4:</span> <span id="ipv4">Carregando...</span></p>
    <p><span class="label">Endere√ßo IPv6:</span> <span id="ipv6">Carregando...</span></p>
    <p><span class="label">DNS/Provedor:</span> <span id="isp">Carregando...</span></p>
  </div>

  <div class="card">
    <h2>üñ•Ô∏è Software</h2>
    <p><span class="label">Dispositivo:</span> <span id="device">Carregando...</span></p>
    <p><span class="label">Sistema Operacional:</span> <span id="os">Carregando...</span></p>
    <p><span class="label">Navegador:</span> <span id="browser">Carregando...</span></p>
    <p><span class="label">Motor:</span> <span id="engine">Carregando...</span></p>
    <p><span class="label">User Agent:</span> <span id="ua">Carregando...</span></p>
  </div>

  <div class="card">
    <h2>üìè Especifica√ß√£o do Dispositivo</h2>
    <p><span class="label">GPU:</span> <span id="gpu">Carregando...</span></p>
    <p><span class="label">Mem√≥ria RAM:</span> <span id="ram">Carregando...</span></p>
    <p><span class="label">Resolu√ß√£o da Tela:</span> <span id="res">Carregando...</span></p>
    <p><span class="label">Propor√ß√£o:</span> <span id="ratio">Carregando...</span></p>
    <p><span class="label">Orienta√ß√£o:</span> <span id="orientation">Carregando...</span></p>
  </div>

  <script>
    // IP e ISP
    fetch('https://ipapi.co/json/')
      .then(res => res.json())
      .then(data => {
        document.getElementById('ipv4').textContent = data.ip;
        document.getElementById('isp').textContent = data.org;
      });
    
    // IPv6 fallback
    fetch('https://api64.ipify.org?format=json')
      .then(res => res.json())
      .then(data => {
        document.getElementById('ipv6').textContent = data.ip;
      });

    // FingerprintJS
    FingerprintJS.load()
      .then(fp => fp.get())
      .then(result => {
        document.getElementById('fingerprint').textContent = result.visitorId;
      });

    // Software & Hardware
    const ua = navigator.userAgent;
    const platform = navigator.platform;
    const memory = navigator.deviceMemory || 'N/A';
    const gpu = navigator?.gpu?.adapter || 'Detectando...';
    const width = screen.width;
    const height = screen.height;
    const ratio = (width / height).toFixed(2);
    const orientation = screen.orientation?.type || 'N/A';

    document.getElementById('ua').textContent = ua;
    document.getElementById('os').textContent = platform;
    document.getElementById('device').textContent = navigator.platform.includes("Win") ? "Desktop" : "Mobile";
    document.getElementById('browser').textContent = navigator.userAgentData?.brands?.[0]?.brand || 'Detectando...';
    document.getElementById('engine').textContent = navigator.product;

    document.getElementById('gpu').textContent = getGPUInfo();
    document.getElementById('ram').textContent = memory + ' GB';
    document.getElementById('res').textContent = `${width} x ${height}`;
    document.getElementById('ratio').textContent = ratio;
    document.getElementById('orientation').textContent = orientation;

    function getGPUInfo() {
      try {
        const canvas = document.createElement('canvas');
        const gl = canvas.getContext('webgl') || canvas.getContext('experimental-webgl');
        const debugInfo = gl.getExtension('WEBGL_debug_renderer_info');
        return gl.getParameter(debugInfo.UNMASKED_RENDERER_WEBGL);
      } catch (e) {
        return 'N√£o detectado';
      }
    }
  </script>
</body>
</html>
